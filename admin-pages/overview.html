<div class="tab-content-wrapper">
    <div class="row">
        <div class="col-md-8">
            <div class="section-card">
                <div class="section-header">
                    <h5><i class="fas fa-chart-line me-2"></i>Thá»‘ng kÃª nhanh</h5>
                </div>
                <div class="section-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="text-center">
                                <div class="h3 text-primary mb-1" id="totalImages">0</div>
                                <div class="text-muted">HÃ¬nh áº£nh</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <div class="h3 text-success mb-1" id="totalStories">0</div>
                                <div class="text-muted">CÃ¢u chuyá»‡n</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <div class="h3 text-warning mb-1" id="totalSections">0</div>
                                <div class="text-muted">Pháº§n ná»™i dung</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <div class="h3 text-info mb-1" id="lastUpdated">ChÆ°a cáº­p nháº­t</div>
                                <div class="text-muted">Láº§n cuá»‘i</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h5><i class="fas fa-eye me-2"></i>Xem trÆ°á»›c website</h5>
                </div>
                <div class="section-body">
                    <p class="text-muted mb-3">Nháº¥n nÃºt bÃªn dÆ°á»›i Ä‘á»ƒ xem trÆ°á»›c website vá»›i cÃ¡c thay Ä‘á»•i hiá»‡n táº¡i.</p>
                    <button class="btn btn-custom" onclick="previewWebsite()">
                        <i class="fas fa-external-link-alt me-2"></i>Xem trÆ°á»›c website
                    </button>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="section-card">
                <div class="section-header">
                    <h5><i class="fas fa-save me-2"></i>LÆ°u trá»¯ & Xuáº¥t</h5>
                </div>
                <div class="section-body">
                    <div class="d-grid gap-2">
                        <button class="btn btn-success" onclick="saveSiteData()">
                            <i class="fas fa-save me-2"></i>LÆ°u thay Ä‘á»•i
                        </button>
                        <button class="btn btn-outline-primary" onclick="downloadData()">
                            <i class="fas fa-download me-2"></i>Táº£i file JSON
                        </button>
                        <button class="btn btn-outline-secondary" onclick="loadData()">
                            <i class="fas fa-upload me-2"></i>Nháº­p file JSON
                        </button>
                        <button class="btn btn-outline-info" onclick="exportUploadedFiles()">
                            <i class="fas fa-file-export me-2"></i>Xuáº¥t file áº£nh
                        </button>
                        <input type="file" id="fileInput" accept=".json" style="display: none;" onchange="handleFileUpload(this)">
                    </div>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h5><i class="fas fa-info-circle me-2"></i>HÆ°á»›ng dáº«n nhanh</h5>
                </div>
                <div class="section-body">
                    <div class="alert alert-info">
                        <small>
                            <strong>ðŸ’¡ Máº¹o:</strong><br>
                            â€¢ KÃ©o tháº£ Ä‘á»ƒ sáº¯p xáº¿p ná»™i dung<br>
                            â€¢ Click vÃ o áº£nh Ä‘á»ƒ thay Ä‘á»•i<br>
                            â€¢ Sá»­ dá»¥ng nÃºt "Xem trÆ°á»›c" Ä‘á»ƒ kiá»ƒm tra<br>
                            â€¢ Nhá»› lÆ°u thay Ä‘á»•i trÆ°á»›c khi Ä‘Ã³ng
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Overview Tab JavaScript
function initializeOverview() {
    console.log('Initializing overview tab');
    
    // Load overview statistics
    loadOverviewStats();
    
    // Setup event listeners
    setupOverviewEventListeners();
}

function loadOverviewStats() {
    // Update statistics from siteData
    if (window.siteData) {
        const totalImages = (window.siteData.gallery?.length || 0) + 
                           (window.siteData.hero?.slides?.length || 0) + 
                           (window.siteData.story?.length || 0);
        
        const totalStories = window.siteData.story?.length || 0;
        const totalSections = Object.keys(window.siteData.visibility?.sections || {}).length;
        const lastUpdated = window.siteData.admin?.lastUpdate || 'ChÆ°a cáº­p nháº­t';
        
        const totalImagesEl = document.getElementById('totalImages');
        const totalStoriesEl = document.getElementById('totalStories');
        const totalSectionsEl = document.getElementById('totalSections');
        const lastUpdatedEl = document.getElementById('lastUpdated');
        
        if (totalImagesEl) totalImagesEl.textContent = totalImages;
        if (totalStoriesEl) totalStoriesEl.textContent = totalStories;
        if (totalSectionsEl) totalSectionsEl.textContent = totalSections;
        if (lastUpdatedEl) lastUpdatedEl.textContent = lastUpdated;
    }
}

function setupOverviewEventListeners() {
    // Preview website button
    const previewBtn = document.querySelector('[onclick*="previewWebsite"]');
    if (previewBtn) {
        previewBtn.addEventListener('click', function(e) {
            e.preventDefault();
            if (typeof previewWebsite === 'function') {
                previewWebsite();
            }
        });
    }
    
    // Save changes button
    const saveBtn = document.querySelector('[onclick*="saveSiteData"]');
    if (saveBtn) {
        saveBtn.addEventListener('click', function(e) {
            e.preventDefault();
            if (typeof saveSiteData === 'function') {
                saveSiteData();
            }
        });
    }
    
    // Download data button
    const downloadBtn = document.querySelector('[onclick*="downloadData"]');
    if (downloadBtn) {
        downloadBtn.addEventListener('click', function(e) {
            e.preventDefault();
            if (typeof downloadData === 'function') {
                downloadData();
            }
        });
    }
    
    // Load data button
    const loadBtn = document.querySelector('[onclick*="loadData"]');
    if (loadBtn) {
        loadBtn.addEventListener('click', function(e) {
            e.preventDefault();
            if (typeof loadData === 'function') {
                loadData();
            }
        });
    }
    
    // Export files button
    const exportBtn = document.querySelector('[onclick*="exportUploadedFiles"]');
    if (exportBtn) {
        exportBtn.addEventListener('click', function(e) {
            e.preventDefault();
            if (typeof exportUploadedFiles === 'function') {
                exportUploadedFiles();
            }
        });
    }
}

// Export functions for global access
window.initializeOverview = initializeOverview;
</script>
